'use strict';
require(
    {
        shim: {
            'app/app': {
                deps: [
                    'components/angular/angular',
                    'components/underscore/underscore',
                    'components/angular-ui-bootstrap-bower/ui-bootstrap',
                    'components/jquery-ui/jquery-ui',
                    'components/jquery/jquery',
                    'components/angular-ui/build/angular-ui',
                    'core/auth/auth',
                    'core/user/user',
                    'core/utility/utility',
                    'core/spinner/spinner',
                    'core/browser-detect/browser-detect',
                    'core/marketplace/marketplace',
                <% if (environment === 'dev') { %>
                    'core/config/dev'
                <% } else if (environment === 'demo' || environment === 'local') { %>
                    'core/config/local'
                <% } else if (environment === 'prod') { %>
                    'core/config/prod'
                 <% } else if (environment === 'localDev') { %>
                    'core/config/local-dev'
                <% } %>
                ]
            },
            'components/angular-ui/build/angular-ui': {
                deps: ['components/jquery/jquery', 'components/angular/angular']
            },
            'components/jquery-ui/jquery-ui': {
                deps: ['components/jquery/jquery']
            },
            'components/angular-ui-bootstrap-bower/ui-bootstrap': {
                deps: ['components/angular/angular']
            },
            'app/market/market': {
                deps: ['app/app']
            },
            'app/login/login': {
                deps: ['app/app']
            },
            'app/bootstrap': {
                deps: ['app/app']
            }
            <% if (environment === 'local') { %>
            ,'app/mock': {
                deps: [
                    'components/angular-mocks/angular-mocks',
                    'app/app'
                ]
            }
            <% } %>
        }
    },
    [
        'require',
        'components/jquery-ui/jquery-ui',
        'components/angular-ui-bootstrap-bower/ui-bootstrap',
        'components/angular-ui/build/angular-ui',
        'components/angular/angular',
        'app/market/market',
        'app/login/login'
    ]
    <% if (environment === 'dev' || environment === 'prod' || environment === 'localDev') { %>
    ,function (require) {
        return require(['app/bootstrap']);
    }
    <% } else if (environment === 'local') { %>
    ,function (require) {
            return require(['app/mock']);
        }
    <% } %>
);

